// Copyright 2020 Insolar Network Ltd.
// All rights reserved.
// This material is licensed under the Insolar License version 1.0,
// available at https://github.com/insolar/insolar/blob/master/LICENSE.md.

package deposit

import (
	"fmt"
	"math/big"
)

var (
	VestingCoeffDenominator = "100000000000000000000"
	VestingCoeffs           = [...]string{
		"225618551024518",
		"452910307672755",
		"681887678574436",
		"912563164382702",
		"1144949358456558",
		"1379058947548391",
		"1614904712496579",
		"1852499528923245",
		"2091856367937175",
		"2332988296841963",
		"2575908479849391",
		"2820630178798114",
		"3067166753877668",
		"3315531664357842",
		"3565738469323477",
		"3817800828414692",
		"4071732502572615",
		"4327547354790638",
		"4585259350871248",
		"4844882560188462",
		"5106431156455928",
		"5369919418500710",
		"5635361731042825",
		"5902772585480549",
		"6172166580681549",
		"6443558423779894",
		"6716962930978957",
		"6992395028360290",
		"7269869752698484",
		"7549402252282084",
		"7831007787740575",
		"8114701732877524",
		"8400499575509880",
		"8688416918313510",
		"8978469479674999",
		"9270673094549772",
		"9565043715326583",
		"9861597412698402",
		"10160350376539770",
		"10461318916790667",
		"10764519464346916",
		"11069968571957211",
		"11377682915126781",
		"11687679293027768",
		"11999974629416348",
		"12314585973556655",
		"12631530501151560",
		"12950825515280352",
		"13272488447343375",
		"13596536858013653",
		"13922988438195605",
		"14251861009990839",
		"14583172527671137",
		"14916941078658613",
		"15253184884513195",
		"15591922301927380",
		"15933171823728406",
		"16276952079887825",
		"16623281838538578",
		"16972180006999629",
		"17323665632808146",
		"17677757904759403",
		"18034476153954345",
		"18393839854854946",
		"18755868626347377",
		"19120582232813078",
		"19488000585207753",
		"19858143742148382",
		"20231031911008298",
		"20606685449020355",
		"20985124864388317",
		"21366370817406464",
		"21750444121587501",
		"22137365744798857",
		"22527156810407371",
		"22919838598432499",
		"23315432546708070",
		"23713960252052629",
		"24115443471448499",
		"24519904123229566",
		"24927364288277863",
		"25337846211229066",
		"25751372301686877",
		"26167965135446451",
		"26587647455726887",
		"27010442174412862",
		"27436372373305456",
		"27865461305382274",
		"28297732396066912",
		"28733209244507818",
		"29171915624866647",
		"29613875487616194",
		"30059112960847912",
		"30507652351589154",
		"30959518147130176",
		"31414735016360977",
		"31873327811118064",
		"32335321567541206",
		"32800741507440215",
		"33269613039671913",
		"33741961761527293",
		"34217813460128926",
		"34697194113838825",
		"35180129893676634",
		"35666647164748430",
		"36156772487686071",
		"36650532620097230",
		"37147954518026190",
		"37649065337425465",
		"38153892435638327",
		"38662463372892346",
		"39174805913803987",
		"39690948028894395",
		"40210917896116380",
		"40734743902392752",
		"41262454645166061",
		"41794078933959829",
		"42329645791951370",
		"42869184457556240",
		"43412724386024490",
		"43960295251048702",
		"44511926946383991",
		"45067649587480015",
		"45627493513125054",
		"46191489287102338",
		"46759667699858601",
		"47332059770185047",
		"47908696746910774",
		"48489610110608765",
		"49074831575314482",
		"49664393090257297",
		"50258326841604646",
		"50856665254219259",
		"51459440993429240",
		"52066686966811489",
		"52678436325988167",
		"53294722468436581",
		"53915579039312446",
		"54541039933286719",
		"55171139296395995",
		"55805911527906696",
		"56445391282192993",
		"57089613470628713",
		"57738613263493335",
		"58392426091891959",
		"59051087649689690",
		"59714633895460234",
		"60383101054449028",
		"61056525620550904",
		"61734944358302393",
		"62418394304888816",
		"63106912772166305",
		"63800537348698783",
		"64499305901810025",
		"65203256579650955",
		"65912427813282338",
		"66626858318772795",
		"67346587099312521",
		"68071653447342509",
		"68802096946699747",
		"69537957474778168",
		"70279275204705737",
		"71026090607537607",
		"71778444454465592",
		"72536377819044017",
		"73299932079432016",
		"74069148920652535",
		"74844070336868085",
		"75624738633673315",
		"76411196430404583",
		"77203486662466786",
		"78001652583677247",
		"78805737768627179",
		"79615786115060495",
		"80431841846270366",
		"81253949513513550",
		"82082153998442534",
		"82916500515555846",
		"83757034614666400",
		"84603802183388248",
		"85456849449641765",
		"86316222984177354",
		"87181969703117900",
		"88054136870520101",
		"88932772100954761",
		"89817923362106252",
		"90709638977391174",
		"91607967628596590",
		"92512958358537610",
		"93424660573734961",
		"94343124047112088",
		"95268398920712524",
		"96200535708437328",
		"97139585298802743",
		"98085598957718439",
		"99038628331286253",
		"99998725448619744",
		"100965942724684596",
		"101940332963160206",
		"102921949359322363",
		"103910845502947347",
		"104907075381237670",
		"105910693381769263",
		"106921754295460848",
		"107940313319565008",
		"108966426060681711",
		"110000148537794007",
		"111041537185326303",
		"112090648856225322",
		"113147540825063864",
		"114212270791167651",
		"115284896881765385",
		"116365477655161930",
		"117454072103935448",
		"118550739658157783",
		"119655540188639132",
		"120768534010196482",
		"121889781884946439",
		"123019345025622410",
		"124157285098916480",
		"125303664228845908",
		"126458545000144835",
		"127621990461680820",
		"128794064129897031",
		"129974829992279719",
		"131164352510851670",
		"132362696625691156",
		"133569927758477513",
		"134786111816062527",
		"136011315194068619",
		"137245604780513526",
		"138489047959462091",
		"139741712614704764",
		"141003667133463863",
		"142274980410126805",
		"143555721850007552",
		"144845961373135483",
		"146145769418072613",
		"147455216945759125",
		"148774375443387336",
		"150103316928304410",
		"151442113951944087",
		"152790839603787428",
		"154149567515353045",
		"155518371864216977",
		"156897327378062185",
		"158286509338758274",
		"159685993586471315",
		"161095856523804279",
		"162516175119968033",
		"163947026914983509",
		"165388490023914667",
		"166840643141133253",
		"168303565544614835",
		"169777337100266985",
		"171262038266289354",
		"172757750097566210",
		"174264554250091411",
		"175782532985426388",
		"177311769175191036",
		"178852346305587964",
		"180404348481960261",
		"181967860433383116",
		"183542967517289499",
		"185129755724130042",
		"186728311682067679",
		"188338722661706759",
		"189961076580857685",
		"191595462009336390",
		"193241968173799971",
		"194900684962617614",
		"196571702930778023",
		"198255113304833053",
		"199951007987878232",
		"201659479564569865",
		"203380621306179648",
		"205114527175686732",
		"206861291832907343",
		"208621010639662655",
		"210393779664984912",
		"212179695690362102",
		"213978856215021754",
		"215791359461253587",
		"217617304379771805",
		"219456790655117193",
		"221309918711099342",
		"223176789716278975",
		"225057505589491098",
		"226952169005409246",
		"228860883400150601",
		"230783752976923030",
		"232720882711714071",
		"234672378359021636",
		"236638346457627686",
		"238618894336414463",
		"240614130120224032",
		"242624162735761116",
		"244649101917539767",
		"246689058213874152",
		"248744142992913868",
		"250814468448723633",
		"252900147607408717",
		"255001294333285144",
		"257118023335096024",
		"259250450172273825",
		"261398691261249382",
		"263562863881807102",
		"265743086183487962",
		"267939477192039639",
		"270152156815914356",
		"272381245852815418",
		"274626865996291553",
		"276889139842380989",
		"279168190896304053",
		"281464143579206009",
		"283777123234949359",
		"286107256136957114",
		"288454669495106195",
		"290819491462672398",
		"293201851143326704",
		"295601878598183466",
		"298019704852900977",
		"300455461904834339",
		"302909282730241986",
		"305381301291545153",
		"307871652544641251",
		"310380472446271761",
		"312907897961444423",
		"315454067070910712",
		"318019118778698579",
		"320603193119701253",
		"323206431167322215",
		"325828975041176759",
		"328470967914850893",
		"331132554023717742",
		"333813878672811585",
		"336515088244760925",
		"339236330207779573",
		"341977753123717895",
		"344739506656172901",
		"347521741578659185",
		"350324609782840055",
		"353148264286819732",
		"355992859243497300",
		"358858549948982323",
		"361745492851072965",
		"364653845557797113",
		"367583766846016693",
		"370535416670095697",
		"373508956170632948",
		"376504547683258975",
		"379522354747498626",
		"382562542115699342",
		"385625275762025441",
		"388710722891519051",
		"391819051949228707",
		"394950432629405118",
		"398105035884765545",
		"401283033935826566",
		"404484600280306024",
		"407709909702595220",
		"410959138283300585",
		"414232463408857002",
		"417530063781211460",
		"420852119427579315",
		"424198811710272370",
		"427570323336600149",
		"430966838368844560",
		"434388542234308543",
		"437835621735439047",
		"441308265060025035",
		"444806661791471817",
		"448331002919150501",
		"451881480848825064",
		"455458289413156452",
		"459061623882284306",
		"462691680974487793",
		"466348658866924670",
		"470032757206450841",
		"473744177120519714",
		"477483121228162218",
		"481249793651048526",
		"485044400024632008",
		"488867147509375234",
		"492718244802059675",
		"496597902147179279",
		"500506331348418275",
		"504443745780214485",
		"508410360399407738",
		"512406391756975703",
		"516432058009855601",
		"520487578932854293",
		"524573175930646753",
		"528689072049863019",
		"532835491991265168",
		"537012662122014500",
		"541220810488029797",
		"545460166826436821",
		"549730962578110979",
		"554033430900311655",
		"558367806679412048",
		"562734326543721640",
		"567133228876404767",
		"571564753828494864",
		"576029143332005069",
		"580526641113136149",
		"585057492705582347",
		"589621945463935683",
		"594220248577190246",
		"598852653082345906",
		"603519411878113577",
		"608220779738721708",
		"612957013327825213",
		"617728371212517609",
		"622535113877447244",
		"627377503739037778",
		"632255805159814571",
		"637170284462837237",
		"642121209946238790",
		"647108851897873135",
		"652133482610071143",
		"657195376394505842",
		"662294809597167941",
		"667432060613452806",
		"672607409903358630",
		"677821140006797887",
		"683073535559022317",
		"688364883306161884",
		"693695472120879272",
		"699065593018140338",
		"704475539171102015",
		"709925605927117127",
		"715416090823858732",
		"720947293605563466",
		"726519516239395712",
		"732133062931933278",
		"737788240145774692",
		"743485356616270087",
		"749224723368376293",
		"755006653733636574",
		"760831463367286561",
		"766699470265487167",
		"772610994782684488",
		"778566359649099544",
		"784565889988347170",
		"790609913335185189",
		"796698759653396461",
		"802832761353801729",
		"809012253312407780",
		"815237572888689344",
		"821509059944006657",
		"827827056860159365",
		"834191908558078350",
		"840603962516657185",
		"847063568791720303",
		"853571080035135480",
		"860126851514064934",
		"866731241130362130",
		"873384609440108934",
		"880087319673301254",
		"886839737753678143",
		"893642232318699047",
		"900495174739668856",
		"907398939142012653",
		"914353902425700179",
		"921360444285821734",
		"928418947233318296",
		"935529796615862559",
		"942693380638897487",
		"949910090386828914",
		"957180319844377208",
		"964504465918085071",
		"971882928457987009",
		"979316110279437705",
		"986804417185103976",
		"994348257987117539",
		"1001948044529395176",
		"1009604191710121445",
		"1017317117504399834",
		"1025087242987071135",
		"1032914992355702180",
		"1040800792953743003",
		"1048745075293858013",
		"1056748273081428712",
		"1064810823238230771",
		"1072933165926288033",
		"1081115744571901557",
		"1089359005889858206",
		"1097663399907818256",
		"1106029379990883763",
		"1114457402866349776",
		"1122947928648637856",
		"1131501420864416268",
		"1140118346477904734",
		"1148799175916367411",
		"1157544383095795992",
		"1166354445446781719",
		"1175229843940580644",
		"1184171063115370056",
		"1193178591102702669",
		"1202252919654154400",
		"1211394544168171300",
		"1220603963717114756",
		"1229881681074507585",
		"1239228202742481861",
		"1248644038979431283",
		"1258129703827867186",
		"1267685715142482724",
		"1277312594618423141",
		"1287010867819768193",
		"1296781064208223262",
		"1306623717172025224",
		"1316539364055062041",
		"1326528546186207281",
		"1336591808908874426",
		"1346729701610787678",
		"1356942777753975849",
		"1367231594904987426",
		"1377596714765329938",
		"1388038703202135008",
		"1398558130279051528",
		"1409155570287366938",
		"1419831601777359758",
		"1430586807589884906",
		"1441421774888192001",
		"1452337095189982357",
		"1463333364399700339",
		"1474411182841066370",
		"1485571155289850883",
		"1496813891006890627",
		"1508140003771350941",
		"1519550111914233676",
		"1531044838352133008",
		"1542624810621244686",
		"1554290660911624051",
		"1566043026101698529",
		"1577882547793038950",
		"1589809872345385871",
		"1601825650911936627",
		"1613930539474893108",
		"1626125198881275130",
		"1638410294878999209",
		"1650786498153221024",
		"1663254484362953686",
		"1675814934177952131",
		"1688468533315874015",
		"1701215972579715046",
		"1714057947895522571",
		"1726995160350388441",
		"1740028316230723612",
		"1753158127060816876",
		"1766385309641679141",
		"1779710586090176710",
		"1793134683878452873",
		"1806658335873645090",
		"1820282280377891886",
		"1834007261168641919",
		"1847834027539257267",
		"1861763334339922026",
		"1875795942018850318",
		"1889932616663802383",
		"1904174130043908078",
		"1918521259651799829",
		"1932974788746059935",
		"1947535506393979765",
		"1962204207514637796",
		"1976981692922298930",
		"1991868769370129868",
		"2006866249594246864",
		"2021974952358081972",
		"2037195702497085481",
		"2052529330963753784",
		"2067976674872994830",
		"2083538577547830103",
		"2099215888565432452",
		"2115009463803509126",
		"2130920165487026549",
		"2146948862235281349",
		"2163096429109322843",
		"2179363747659723848",
		"2195751705974708853",
		"2212261198728636760",
		"2228893127230844803",
		"2245648399474853978",
		"2262527930187940156",
		"2279532640881070174",
		"2296663459899212986",
		"2313921322472018565",
		"2331307170764877062",
		"2348821953930353700",
		"2366466628160008092",
		"2384242156736592413",
		"2402149510086644748",
		"2420189665833464079",
		"2438363608850484601",
		"2456672331315042437",
		"2475116832762541338",
		"2493698120141021878",
		"2512417207866133803",
		"2531275117876515337",
		"2550272879689586408",
		"2569411530457751252",
		"2588692115025022222",
		"2608115685984059226",
		"2627683303733635913",
		"2647396036536530522",
		"2667254960577844155",
		"2687261160023755868",
		"2707415727080709003",
		"2727719762055039187",
		"2748174373413044338",
		"2768780677841498408",
		"2789539800308616160",
		"2810452874125468625",
		"2831521041007854441",
		"2852745451138629859",
		"2874127263230501563",
		"2895667644589283717",
		"2917367771177626148",
		"2939228827679214728",
		"2961252007563444990",
		"2983438513150580076",
		"3005789555677388161",
		"3028306355363268378",
		"3050990141476866632",
		"3073842152403186145",
		"3096863635711194148",
		"3120055848221930938",
		"3143420056077125129",
		"3166957534808315100",
		"3190669569406486688",
		"3214557454392222984",
		"3238622493886378350",
		"3262866001681272859",
		"3287289301312417560",
		"3311893726130774734",
		"3336680619375541334",
		"3361651334247489630",
		"3386807233982837284",
		"3412149691927675310",
		"3437680091612940747",
		"3463399826829947902",
		"3489310301706483041",
		"3515412930783458345",
		"3541709139092137637",
		"3568200362231932487",
		"3594888046448776325",
		"3621773648714082805",
		"3648858636804282878",
		"3676144489380957919",
		"3703632696071565422",
		"3731324757550761456",
		"3759222185622326795",
		"3787326503301704366",
		"3815639244899143855",
		"3844161956103463867",
		"3872896194066438591",
		"3901843527487808965",
		"3931005536700918345",
		"3960383813758993482",
		"3989979962522056944",
		"4019795598744488329",
		"4049832350163234256",
		"4080091856586672699",
		"4110575769984133043",
		"4141285754576085054",
		"4172223486924992591",
		"4203390656026845945",
		"4234788963403365857",
		"4266420123194897967",
		"4298285862253992811",
		"4330387920239681109",
		"4362728049712445710",
		"4395308016229903386",
		"4428129598443189540",
		"4461194588194061089",
		"4494504790612721678",
		"4528062024216367165",
		"4561868121008464532",
		"4595924926578769803",
		"4630234300204084246",
		"4664798114949755825",
		"4699618257771940449",
		"4734696629620612634",
		"4770035145543349147",
		"4805635734789875934",
		"4841500340917392897",
		"4877630921896679294",
		"4914029450218983935",
		"4950697913003712646",
		"4987638312106913718",
		"5024852664230560622",
		"5062343001032654915",
		"5100111369238140290",
		"5138159830750638201",
		"5176490462765018923",
		"5215105357880797654",
		"5254006624216378540",
		"5293196385524146646",
		"5332676781306404378",
		"5372449966932181519",
		"5412518113754898746",
		"5452883409230913081",
		"5493548057038935561",
		"5534514277200338477",
		"5575784306200356338",
		"5617360397110177788",
		"5659244819709954160",
		"5701439860612710769",
		"5743947823389182472",
		"5786771028693572793",
		"5829911814390247026",
		"5873372535681364164",
		"5917155565235454606",
		"5961263293316951261",
		"6005698127916684475",
		"6050462494883343533",
		"6095558838055906841",
		"6140989619397064364",
		"6186757319127620530",
		"6232864435861903279",
		"6279313486744167449",
		"6326107007586014019",
		"6373247553004832144",
		"6420737696563259822",
		"6468580030909690248",
		"6516777167919805824",
		"6565331738839173814",
		"6614246394426889774",
		"6663523805100304842",
		"6713166661080792463",
		"6763177672540637841",
		"6813559569750976541",
		"6864315103230866910",
		"6915447043897432477",
		"6966958183217153433",
		"7018851333358246125",
		"7071129327344201354",
		"7123795019208441214",
		"7176851284150136123",
		"7230301018691163983",
		"7284147140834248967",
		"7338392590222261868",
		"7393040328298705610",
		"7448093338469387314",
		"7503554626265300508",
		"7559427219506698048",
		"7615714168468397382",
		"7672418546046301524",
		"7729543447925164845",
		"7787091992747589841",
		"7845067322284288158",
		"7903472601605598946",
		"7962311019254282584",
		"8021585787419593938",
		"8081300142112646245",
		"8141457343343075359",
		"8202060675297014047",
		"8263113446516390236",
		"8324618990079547808",
		"8386580663783210765",
		"8449001850325800477",
		"8511885957492107412",
		"8575236418339329813",
		"8639056691384500164",
		"8703350260793295267",
		"8768120636570250758",
		"8833371354750384207",
		"8899105977592233762",
		"8965328093772342854",
		"9032041318581170152",
		"9099249294120463627",
		"9166955689502098714",
		"9235164201048384757",
		"9303878552493856368",
		"9373102495188567751",
		"9442839808302896931",
		"9513094299033854339",
		"9583869802812934601",
		"9655170183515507376",
		"9726999333671758341",
		"9799361174679194208",
		"9872259657016724254",
		"9945698760460339182",
		"10019682494300366504",
		"10094214897560360722",
		"10169300039217610276",
		"10244942018425262642",
		"10321144964736131410",
		"10397913038328121526",
		"10475250430231361487",
		"10553161362557002267",
		"10631650088727716274",
		"10710720893709907430",
		"10790378094247636553",
		"10870626039098298110",
		"10951469109270020596",
		"11032911718260850209",
		"11114958312299695608",
		"11197613370589061532",
		"11280881405549585128",
		"11364766963066383342",
		"11449274622737232176",
		"11534408998122575029",
		"11620174736997397613",
		"11706576521604968033",
		"11793619068912448988",
		"11881307130868422328",
		"11969645494662303764",
		"12058638982985700471",
		"12148292454295694931",
		"12238610803080084144",
		"12329598960124585338",
		"12421261892782028968",
		"12513604605243536238",
		"12606632138811724175",
		"12700349572175917423",
		"12794762021689418118",
		"12889874641648821351",
		"12985692624575412290",
		"13082221201498628326",
		"13179465642241661171",
		"13277431255709135071",
		"13376123390176941629",
		"13475547433584234013",
		"13575708813827552790",
		"13676612999057172204",
		"13778265497975608622",
		"13880671860138371620",
		"13983837676256921644",
		"14087768578503903627",
		"14192470240820603821",
		"14297948379226727011",
		"14404208752132446891",
		"14511257160652776820",
		"14619099448924274820",
		"14727741504424093910",
		"14837189258291397231",
		"14947448685651160138",
		"15058525805940378705",
		"15170426683236676312",
		"15283157426589383254",
		"15396724190353033856",
		"15511133174523356048",
		"15626390625075756157",
		"15742502834306304482",
		"15859476141175254948",
		"15977316931653109954",
		"16096031639069244279",
		"16215626744463138009",
		"16336108776938182418",
		"16457484314018144822",
		"16579759982006228580",
		"16702942456346861477",
		"16827038461990104223",
		"16952054773758795658",
		"17077998216718420776",
		"17204875666549704349",
		"17332694049923982881",
		"17461460344881349349",
		"17591181581211620677",
		"17721864840838105759",
		"17853517258204235074",
		"17986146020663057454",
		"18119758368869615106",
		"18254361597176246845",
		"18389963054030797340",
		"18526570142377807304",
		"18664190320062659656",
		"18802831100238723283",
		"18942500051777530489",
		"19083204799681985353",
		"19224953025502630743",
		"19367752467757023970",
		"19511610922352198849",
		"19656536243010266917",
		"19802536341697196675",
		"19949619189054734747",
		"20097792814835557795",
		"20247065308341652412",
		"20397444818865928528",
		"20548939556137107986",
		"20701557790767943778",
		"20855307854706728321",
		"21010198141692162932",
		"21166237107711596832",
		"21323433271462674532",
		"21481795214818402706",
		"21641331583295658758",
		"21802051086527177159",
		"21963962498737046869",
		"22127074659219711505",
		"22291396472822549990",
		"22456936910432021004",
		"22623705009463404569",
		"22791709874354196263",
		"22960960677061140189",
		"23131466657560967315",
		"23303237124354825304",
		"23476281454976472007",
		"23650609096504221495",
		"23826229566076689847",
		"24003152451412373968",
		"24181387411333074566",
		"24360944176291213225",
		"24541832548901024169",
		"24724062404473748366",
		"24907643691556730081",
		"25092586432476560176",
		"25278900723886227330",
		"25466596737316304910",
		"25655684719730298404",
		"25846174994084003540",
		"26038077959889127655",
		"26231404093780985587",
		"26426163950090475474",
		"26622368161420301158",
		"26820027439225391230",
		"27019152574397709010",
		"27219754437855370188",
		"27421843981136073686",
		"27625432236995051127",
		"27830530320007340616",
		"28037149427174562488",
		"28245300838536224752",
		"28454995917785547154",
		"28666246112889798292",
		"28879062956715334520",
		"29093458067657179677",
		"29309443150273317702",
		"29527029995923714800",
		"29746230483414004552",
		"29967056579644019143",
		"30189520340261105646",
		"30413633910318277342",
		"30639409524937238904",
		"30866859509976385389",
		"31095996282703664004",
		"31326832352474498488",
		"31559380321414720605",
		"31793652885108553141",
		"32029662833291722146",
		"32267423050549665086",
		"32506946517020957054",
		"32748246309105960572",
		"32991335600180671239",
		"33236227661315936865",
		"33482935862001933502",
		"33731473670878087123",
		"33981854656468341025",
		"34234092487921935488",
		"34488200935759621979",
		"34744193872625472874",
		"35002085274044220098",
		"35261889219184228139",
		"35523619891626129208",
		"35787291580137148283",
		"36052918679451168015",
		"36320515691054616747",
		"36590097223978101936",
		"36861677995594016588",
		"37135272832419985445",
		"37410896670928300844",
		"37688564558361353773",
		"37968291653553115639",
		"38250093227756720715",
		"38533984665478138165",
		"38819981465316122371",
		"39108099240808286145",
		"39398353721283513318",
		"39690760752720688487",
		"39985336298613766148",
		"40282096440843262463",
		"40581057380554258484",
		"40882235439040837121",
		"41185647058637137041",
		"41491308803614990186",
		"41799237361088231734",
		"42109449541923676952",
		"42421962281658925908",
		"42736792641426896155",
		"43053957808887266534",
		"43373475099164809920",
		"43695361955794675967",
		"44019635951674701557",
		"44346314790024760066",
		"44675416305353260471",
		"45006958464430790734",
		"45340959367270955438",
		"45677437248118568647",
		"46016410476445074318",
		"46357897557951432965",
		"46701917135578380202",
		"47048487990524234803",
		"47397629043270228521",
		"47749359354613402084",
		"48103698126707256088",
		"48460664704110006928",
		"48820278574840714203",
		"49182559371443163032",
		"49547526872057706670",
		"49915201001500991706",
		"50285601832353754581",
		"50658749586056583958",
		"51034664634013993112",
		"51413367498706441516",
		"51794878854810810775",
		"52179219530329057352",
		"52566410507725325196",
		"52956472925071407243",
		"53349428077200788944",
		"53745297416871151696",
		"54144102555935613718",
		"54545865266522541859",
		"54950607482224189670",
		"55358351299294139558",
		"55769118977853560093",
		"56182932943106556056",
		"56599815786564333653",
		"57019790267278624984",
		"57442879313084105330",
		"57869106021850191812",
		"58298493662741968091",
		"58731065677490568166",
		"59166845681672886048",
		"59605857466000922162",
		"60048124997620477838",
		"60493672421419697471",
		"60942524061347191910",
		"61394704421739965116",
		"61850238188661188498",
		"62309150231247878437",
		"62771465603068632433",
		"63237209543491346153",
		"63706407479061111232",
		"64179085024888415933",
		"64655267986047448847",
		"65134982358984960804",
		"65618254332939451867",
		"66105110291370994257",
		"66595576813401535787",
		"67089680675265972454",
		"67587448851773945790",
		"68088908517782475993",
		"68594087049679575152",
		"69103012026878773977",
		"69615711233324784057",
		"70132212659010340072",
		"70652544501504221941",
		"71176735167490701172",
		"71704813274320344796",
		"72236807651572343403",
		"72772747342628374412",
		"73312661606258233693",
		"73856579918217124536",
		"74404531972854892619",
		"74956547684737084847",
		"75512657190278131836",
		"76072890849386554102",
		"76637279247122436221",
		"77205853195367202257",
		"77778643734505681362",
		"78355682135120741094",
		"78936999899700444061",
		"79522628764357883302",
		"80112600700563785239",
		"80706947916891869088",
		"81305702860777306906",
		"81908898220288095526",
		"82516566925909606844",
		"83128742152342405269",
		"83745457320313332339",
		"84366746098400069442",
		"84992642404869223061",
		"85623180409528065749",
		"86258394535589932861",
		"86898319461553508170",
		"87542990123096076083",
		"88192441714980773781",
		"88846709692977954287",
		"89505829775800882508",
		"90169837947055697658",
		"90838770457205941788",
		"91512663825551532337",
		"92191554842222489530",
		"92875480570187485263",
		"93564478347277157955",
		"94258585788222570834",
		"94957840786708702652",
		"95662281517443226164",
		"96371946438240518873",
		"97086874292121294605",
		"97807104109427667193",
		"98532675209953934914",
		"99263627205093218908",
		"100000000000000000000",
	}
)

func VestedByNow(amount *big.Int, passedSteps, totalSteps uint64) *big.Int {
	tableLen := uint64(len(VestingCoeffs))
	normalizedPassedSteps := passedSteps

	// This branch of code should never execute for normal deposits. But just in case.
	if totalSteps != tableLen {
		normalizedPassedSteps = passedSteps * tableLen / totalSteps
	}

	if normalizedPassedSteps >= tableLen {
		return amount
	}

	coeff, ok := new(big.Int).SetString(VestingCoeffs[normalizedPassedSteps], 10)
	if !ok {
		panic(fmt.Sprintf("failed to parse vesting coefficient #%d", normalizedPassedSteps))
	}
	denominator, ok := new(big.Int).SetString(VestingCoeffDenominator, 10)
	if !ok {
		panic("failed to parse vesting coefficients denominator")
	}

	return new(big.Int).Div(
		new(big.Int).Mul(amount, coeff),
		denominator,
	)
}
